<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>nn_fit: test_derivatives Module Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">nn_fit
   </div>
   <div id="projectbrief">Fit a NN potential to reproduce experimental scattering data</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Types</a> &#124;
<a href="#func-members">Functions/Subroutines</a>  </div>
  <div class="headertitle">
<div class="title">test_derivatives Module Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>compare analytical derivatives vs numerical ones  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Types</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">interface &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfacetest__derivatives_1_1func__array.html">func_array</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">interface for calling back functions that return arrays  <a href="interfacetest__derivatives_1_1func__array.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr class="memitem:a18e87b90fff445aa01dfe6a5ec160554"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacetest__derivatives.html#a18e87b90fff445aa01dfe6a5ec160554">test_all_derivatives</a> (f, df, data, n_targets, n_parameters)</td></tr>
<tr class="memdesc:a18e87b90fff445aa01dfe6a5ec160554"><td class="mdescLeft">&#160;</td><td class="mdescRight">tests all the derivatives of a given function  <a href="#a18e87b90fff445aa01dfe6a5ec160554">More...</a><br /></td></tr>
<tr class="separator:a18e87b90fff445aa01dfe6a5ec160554"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>compare analytical derivatives vs numerical ones </p>
<dl class="section author"><dt>Author</dt><dd>Rodrigo Navarro Perez </dd></dl>
</div><h2 class="groupheader">Function/Subroutine Documentation</h2>
<a id="a18e87b90fff445aa01dfe6a5ec160554"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18e87b90fff445aa01dfe6a5ec160554">&#9670;&nbsp;</a></span>test_all_derivatives()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine, public test_derivatives::test_all_derivatives </td>
          <td>(</td>
          <td class="paramtype">procedure(<a class="el" href="interfacenum__recipes_1_1func.html">func</a>)&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">procedure(<a class="el" href="interfacetest__derivatives_1_1func__array.html">func_array</a>)&#160;</td>
          <td class="paramname"><em>df</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type(<a class="el" href="structnum__recipes_1_1context.html">context</a>), intent(inout)&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>n_targets</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>n_parameters</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>tests all the derivatives of a given function </p>
<p>Given a function f that depends on a set of parameters and the corresponding function df that calculates the derivatives of such f with respect of all the parameters, compares such derivatives with a numerical approximation.</p>
<p>The function might have more than one target (i.e. the procedure being tested results in an array).</p>
<p>First the df function is used to calculate all the analytic derivatives of an specific target with respect of all the parameters. Then all the numerical derivatives are calculated and compared with analytic results</p>
<p>If the absolute difference between analytic and numerical, or the error in the numerical calculation, is greater than \( 10^{-10}\), the target, parameter, difference and error are printed in screen. Otherwise, a message indicates that all calculations are consistent with each other.</p>
<dl class="section author"><dt>Author</dt><dd>Rodrigo Navarro Perez</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">f</td><td>function whose derivatives will be tested</td></tr>
    <tr><td class="paramdir"></td><td class="paramname">df</td><td>function that returns analytical derivatives</td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">data</td><td>data used to evaluate f and df</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">n_targets</td><td>number of targets in f</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">n_parameters</td><td>number of parameters that f depends on </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
