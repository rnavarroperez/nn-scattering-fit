\hypertarget{namespacetest__derivatives}{}\section{test\+\_\+derivatives Module Reference}
\label{namespacetest__derivatives}\index{test\+\_\+derivatives@{test\+\_\+derivatives}}


compare analytical derivatives vs numerical ones  


\subsection*{Data Types}
\begin{DoxyCompactItemize}
\item 
interface \hyperlink{interfacetest__derivatives_1_1func__array}{func\+\_\+array}
\begin{DoxyCompactList}\small\item\em interface for calling back functions that return arrays \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Functions/\+Subroutines}
\begin{DoxyCompactItemize}
\item 
subroutine, public \hyperlink{namespacetest__derivatives_a18e87b90fff445aa01dfe6a5ec160554}{test\+\_\+all\+\_\+derivatives} (f, df, data, n\+\_\+targets, n\+\_\+parameters)
\begin{DoxyCompactList}\small\item\em tests all the derivatives of a given function \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
compare analytical derivatives vs numerical ones 

\begin{DoxyAuthor}{Author}
Rodrigo Navarro Perez 
\end{DoxyAuthor}


\subsection{Function/\+Subroutine Documentation}
\mbox{\Hypertarget{namespacetest__derivatives_a18e87b90fff445aa01dfe6a5ec160554}\label{namespacetest__derivatives_a18e87b90fff445aa01dfe6a5ec160554}} 
\index{test\+\_\+derivatives@{test\+\_\+derivatives}!test\+\_\+all\+\_\+derivatives@{test\+\_\+all\+\_\+derivatives}}
\index{test\+\_\+all\+\_\+derivatives@{test\+\_\+all\+\_\+derivatives}!test\+\_\+derivatives@{test\+\_\+derivatives}}
\subsubsection{\texorpdfstring{test\+\_\+all\+\_\+derivatives()}{test\_all\_derivatives()}}
{\footnotesize\ttfamily subroutine, public test\+\_\+derivatives\+::test\+\_\+all\+\_\+derivatives (\begin{DoxyParamCaption}\item[{procedure(\hyperlink{interfacenum__recipes_1_1func}{func})}]{f,  }\item[{procedure(\hyperlink{interfacetest__derivatives_1_1func__array}{func\+\_\+array})}]{df,  }\item[{type(\hyperlink{structnum__recipes_1_1context}{context}), intent(inout)}]{data,  }\item[{integer, intent(in)}]{n\+\_\+targets,  }\item[{integer, intent(in)}]{n\+\_\+parameters }\end{DoxyParamCaption})}



tests all the derivatives of a given function 

Given a function f that depends on a set of parameters and the corresponding function df that calculates the derivatives of such f with respect of all the parameters, compares such derivatives with a numerical approximation.

The function might have more than one target (i.\+e. the procedure being tested results in an array).

First the df function is used to calculate all the analytic derivatives of an specific target with respect of all the parameters. Then all the numerical derivatives are calculated and compared with analytic results

If the absolute difference between analytic and numerical, or the error in the numerical calculation, is greater than $ 10^{-10}$, the target, parameter, difference and error are printed in screen. Otherwise, a message indicates that all calculations are consistent with each other.

\begin{DoxyAuthor}{Author}
Rodrigo Navarro Perez
\end{DoxyAuthor}

\begin{DoxyParams}[1]{Parameters}
 & {\em f} & function whose derivatives will be tested\\
\hline
 & {\em df} & function that returns analytical derivatives\\
\hline
\mbox{\tt in,out}  & {\em data} & data used to evaluate f and df\\
\hline
\mbox{\tt in}  & {\em n\+\_\+targets} & number of targets in f\\
\hline
\mbox{\tt in}  & {\em n\+\_\+parameters} & number of parameters that f depends on \\
\hline
\end{DoxyParams}
